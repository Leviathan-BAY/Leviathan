 제품 요구사항 정의서 (PRD): 레비아탄 웹3 게임 런치패드

**서비스는 모두 영어로 만들 것**
**Leviathan, Hermit, Humpback,Splash Zone 이미지는 모두 가장 상위 폴더 LEVIATHAN/images에 png로 저장되어있음**

## 1. 개요 및 비전

### 1.1. 프로젝트 개요

레비아탄(Leviathan)은 Sui 블록체인 기반의 탈중앙화 웹3 게임 런치패드입니다. 본 플랫폼은 사용자가 단순히 게임을 플레이하는 것을 넘어, 자신만의 게임을 직접 제작, 커스터마이징하여 온체인에 론칭(Launching)할 수 있도록 지원하는 창작자 중심의 생태계입니다. 

핵심 혁신은 **허밋 파이낸스(Hermit Finance)**라는 금융 엔진으로, 델타 뉴트럴 전략을 통해 자산 가치를 안정적으로 유지하여 사용자가 SUI 토큰의 높은 변동성에 노출되지 않고 생태계에 참여할 수 있게 합니다.

### 1.2. 문제 정의

웹3 게임 시장의 성장은 주로 두 가지 문제에 의해 저해됩니다:

1. **높은 기술적 장벽**: 온체인 게임을 제작하고 배포하는 데 따르는 복잡한 스마트 컨트랙트 개발 및 블록체인 지식 요구
2. **경제적 불안정성**: 플레이어와 창작자 모두에게 불안정한 경제 환경을 조성하는 네이티브 토큰의 극심한 가격 변동성

### 1.3. 비전

Sui 네트워크에서 사용자 제작 콘텐츠(UGC) 기반의 웹3 게임 론칭을 위한 최고의 목적지가 되어, 재미와 금융 안정성이 공존하는 활기찬 창작자 경제를 조성하는 것을 목표로 합니다. 최종 사용자를 위해 블록체인의 복잡성을 추상화하고, 간단한 제작 툴과 안전한 참여 환경을 제공하고자 합니다.

## 2. 제품 목표

### 2.1. 핵심 목표
- **창작자 권한 강화**: 사용자가 깊은 스마트 컨트랙트 지식 없이도 커스텀 게임을 쉽게 만들고 출시할 수 있는 직관적인 도구 제공
- **경제적 안정성 확보**: 사용자가 가치가 안정된 유동성 스테이킹 토큰(LST)인 hSui를 사용해 플랫폼 내에서 거래하게 함으로써 SUI 가격 변동성으로부터 사용자를 보호
- **창작자 경제 활성화**: 게임의 인기도와 참여도에 따라 게임 제작자에게 보상을 제공하는 매커니즘 구현
- **네트워크 채택 촉진**: 독창적이고 매력적인 게임 경험을 통해 SUI 토큰의 효용성을 높이고 Sui 생태계에 새로운 사용자를 유치

## 3. 주요 사용자 및 페르소나

### 페르소나 1: 게임 창작자 (The Architect)
- **설명**: 웹3 게임 메커니즘을 실험하고 싶은 창의적인 개인, 취미 게임 디자이너, 인디 개발자
- **목표**: 복잡한 토크노믹스 관리 없이 게임을 쉽게 제작 및 퍼블리싱하고, 플레이어 기반을 확보하며, 창의성에 대한 보상을 얻고 싶어 함
- **고충**: 게임을 처음부터 만들 리소스가 부족하고, 변동성 높은 자산 기반의 프로젝트 경제성에 대해 우려함

### 페르소나 2: 게이머 (The Competitor)
- **설명**: 새로운 PvP 경험과 P2E 기회를 찾는 웹3에 관심 있는 게이머
- **목표**: 재미있고 공정한 게임을 플레이하고, 의미 있는 보상을 위해 경쟁하며, 투자한 자산이 안전하게 보호받고 있다고 느끼고 싶어 함
- **고충**: 인플레이션이 심한 게임 토큰에 지쳤으며, 하룻밤 사이에 가치가 급락할 수 있는 자금 투자에 주저함

## 4. 핵심 기능 요구사항

### 4.1. 모듈: 허밋 파이낸스 (Hermit Finance - 금융 엔진)

#### 기능 4.1.1: SUI → hSui 전환 포털
- **설명**: 사용자가 SUI를 예치하고 동일한 수량의 hSui를 받을 수 있는 사용자 페이지
- **백엔드 로직**: 프로토콜은 델타 뉴트럴 전략을 자동 실행:
  - 예치된 SUI의 50%를 스테이킹 검증인에게 전송
  - 나머지 50%를 무기한 선물 DEX에서 1배 숏 포지션을 여는 담보로 사용
  - 사용자는 예치한 SUI와 1:1 비율로 hSui를 수령
- **사용자 스토리**: "플레이어로서, 나는 SUI 가격 하락 걱정 없이 게임을 플레이하기 위해 내 SUI를 안전한 금고에 예치하고 hSui를 받고 싶다."

#### 기능 4.1.2: hSui → SUI 인출 메커니즘
- **설명**: 사용자가 hSui를 반환하고 원본 SUI를 인출할 수 있는 기능
- **정산 로직**: 
  - 델타 뉴트럴 포지션 청산
  - 스테이킹 보상 및 펀딩 손익 반영한 최종 SUI 반환
  - 수수료 차감 후 사용자에게 지급

### 4.2. 모듈:험프백 런치패드 (Humpback Launchpad - 게임 제작 허브)

#### 4.2.1. 게임 템플릿 라이브러리
- **설명**: 창작자가 처음부터 모든 걸 만들 필요 없이, 기본 장르별 템플릿을 활용할 수 있음
- **지원 장르(예시)**:
  - 턴제 보드게임 (체스/윷놀이 스타일)
  - 카드 게임 (트레이딩 카드/덱 기반 PvP)
  - 주사위/확률 기반 게임
  - 타일 퍼즐 게임
- **사용자 스토리**: "나는 코드를 모르는 유저로서, 미리 제공된 게임 템플릿을 기반으로 룰만 바꿔서 나만의 게임을 만들고 싶다."

#### 4.2.2. 게임 커스터마이징 인터페이스
- **설명**: Low-code/No-code 방식으로 규칙, 자산, 시각 요소를 변경 가능
- **커스터마이징 범위**:
  - **규칙**: 턴 수, 승리 조건, 보상 방식, 게임 파라미터
  - **자산**: 말/카드/토큰 이미지 업로드 (NFT 연동 가능)
  - **디자인**: 보드 크기, 배경 테마, UI 스타일, 컬러 팔레트
- **UI 예시 플로우**:
  1. 규칙 에디터 (폼 기반 입력)
  2. 자산 업로더 (이미지/메타데이터)
  3. 미리보기 (실시간 시뮬레이션)
  4. 배포 준비 (메타데이터 검증)

#### 4.2.3. 테스트 플레이 모드
- **설명**: 창작자가 퍼블리싱 전 게임을 시뮬레이션 해볼 수 있음
- **기능**:
  - "테스트 모드"에서 게임을 직접 플레이 가능
  - 룰 충돌/버그 자동 검출 (예: 승리 조건이 만족 불가한 경우)
  - AI 봇 플레이어 자동 생성 (다양한 난이도)
  - 게임 밸런스 분석 (승률, 평균 게임 시간 등)
- **검증 체크리스트**:
  - 게임 시작/종료 조건 명확성
  - 무한 루프 방지
  - 공정성 검증

#### 4.2.4. 퍼블리싱 & 경제 모델
- **설명**: 게임을 스플래시 존에 공식 론칭하는 과정
- **세부사항**:
  - **업로드**: 게임 로직 및 리소스를 탈중앙화 스토리지(Walrus)에 저장
  - **비용**: hSui로 론칭 수수료 지불 (스팸 방지 및 품질 관리)
  - **보상 메커니즘**:
    - 플레이어 수와 매치 횟수에 따라 창작자에게 일정 비율의 수익 배분
    - 인기 게임은 추가 인센티브(예: Featured Zone 노출) 제공
    - 커뮤니티 평점 시스템 연동
- **사용자 스토리**: "나는 게임 창작자로서, 내 게임을 온체인에 퍼블리싱해서 플레이어들이 즐기고, 인기에 따라 보상을 받고 싶다."

#### 4.2.5. Game Making Tool (게임 제작 툴)

**개요**: 게임 제작 툴은 **세 가지 공간 + 카드/토큰 시스템 + 자동화 도구**로 구성되어 제작자가 커스터마이징 가능한 보드게임을 생성하고 퍼블리싱할 수 있게 한다.

**공간 구성**:

| 공간 | 설명 | 주요 옵션 |
|------|------|-----------|
| **Hand (패)** | 플레이어가 보유한 카드, 토큰, 카운터 등을 올려놓는 공간 | - 제작자가 칸 수 직접 설정 (최대값 제한)<br>- 점수/카운터/플래그 배치 가능 |
| **Shared Board (공용 보드, 5×5)** | 모든 플레이어가 상호작용하는 메인 보드 | - 각 칸은 `Image`, `Deck`, `Track` 중 선택 가능 |
| **Private Area (개인 공간, 3~5칸)** | 각 플레이어 앞에 배치되는 개인 전용 공간 | - 칸 타입은 `Image`, `Deck`, `Track` 중 선택 가능 |

**칸 타입별 동작**:
- **Image 칸**: 단순 배경 또는 카드/토큰 전시용, 토큰을 올리거나 비워둘 수 있음
- **Deck 칸**: 카드 스택 생성/드로우/섞기(shuffle), 제작자가 카드 앞/뒷면 상태를 선택하여 전시 가능
- **Track 칸**: 토큰 올리기/이동 가능, **클릭 기반 이동** 사용 (토큰 클릭 → 이동 가능한 칸 하이라이트 → 목적지 클릭)
  - 이동 규칙: **직접 매핑** (`칸 번호 → 이동 후 칸 번호`) 또는 **거리 기반** (주사위/윷 결과)
  - 칸별 특수효과 부여 가능

**카드 및 토큰 시스템**:
- **카드**: 앞/뒷면 이미지, 문양, 숫자 설정, open/close 전환, 온체인 오브젝트 생성
- **토큰**: 보드 한 칸의 1/4 크기, 앞/뒷면 이미지, flip/random flip, 점수/플래그/카운터 바인딩
- **공통**: Walrus 이미지 업로드, **클릭 기반 상호작용**

**자동화 및 상태 관리**:
- **카운터/플래그**: 점수, 턴 카운터, 승리 조건 체크, 게이지(HP bar) UI 통합
- **턴 관리**: 행동 완료 이벤트 기반 턴 전환

**온체인 데이터 구조**:
```move
public struct GameInfo has key, store {
    id: UID,
    name: vector<u8>,           // 게임 이름
    components: address,        // GameComponents 객체 주소
    game_owner: address,        // 제작자
    game_thumbnail: address,    // 썸네일 이미지
    join_fee: u8,
    player_sum: u8,
    dealer_sum: u8,
}
```

**예시: 커스터마이징 가능한 5x5 윷놀이**
- **보드 구조**: 5x5 Shared Board + Hand + Private Area
- **칸 타입**: Track 칸 중심 구성
- **토큰 이동**: 클릭 기반 이동 (윷/주사위 결과에 따른 거리 기반 이동)
- **특수 효과**: 모서리 칸에 추가 턴, 가운데 막힘 구조
- **사용자 시나리오**: "5x5 보드를 Track 칸으로 구성하고, 가운데를 막아서 미로처럼 만들며, 모서리 칸에 추가 턴 효과를 설정한다."

### 4.3. 모듈: 스플래시 존 (Splash Zone - 게임 플레이 아레나)

#### 기능 4.3.1: 게임 브라우저 및 로비
- **설명**: 플레이어가 모든 사용자 제작 게임을 둘러볼 수 있는 갤러리
- **기능**: 
  - 게임 유형, 인기도, 최신순 필터링
  - 검색 기능 (게임명, 창작자명)
  - 카테고리별 분류 (보드게임, 카드게임, 퍼즐 등)
  - 평점 및 리뷰 시스템
- **사용자 스토리**: "플레이어로서, 나는 흥미로운 게임들을 다양하게 발견하고 쉽게 선택하고 싶다."

#### 기능 4.3.2: PvP 게임 플레이 및 스테이킹
- **설명**: 플레이어는 정해진 양의 SUI를 예치하여 게임에 참여. 스마트 컨트랙트가 상금 풀을 승자 독식 방식으로 관리
- **기능**: 
  - 실시간 매치메이킹 시스템
  - 다양한 스테이킹 레벨 (저액/고액 테이블)
  - 경기 종료 후 리플레이 영상 업로드 옵션 (Walrus 저장)
  - 랭킹 시스템 및 시즌 리워드
- **안전 장치**:
  - 타임아웃 메커니즘 (무응답 플레이어 처리)
  - 부정행위 방지 시스템
  - 분쟁 해결 메커니즘

#### 기능 4.3.3: 소셜 기능
- **플레이어 프로필**: 전적, 선호 게임, 획득 배지
- **친구 시스템**: 친구 추가, 1:1 대전 초대
- **커뮤니티**: 게임별 채팅방, 전략 공유
- **토너먼트**: 정기적인 토너먼트 개최

## 5. 최소 기능 제품 (MVP) 범위

### MVP 필수 기능
1. **SUI ↔ hSui 스왑 기능**: 기본적인 예치/인출 시스템
2. **Humpback Launchpad**: 최소 1개 게임 템플릿(5x5 윷놀이) 제작 및 퍼블리싱 기능
3. **Splash Zone**: 최소 2-3개 커스터마이징 게임 제공 및 플레이 가능
4. **게임 전체 루프**: 론칭 수수료 hSui, 판돈 SUI, 승자 상금 지급 시스템

### MVP 제외 기능 (향후 개발)
- 복잡한 게임 템플릿 (카드게임, RPG 등)
- 고급 AI 봇 플레이어
- NFT 통합 기능
- 토너먼트 시스템
- 모바일 앱

## 6. 디자인 및 기술 요구사항

### 6.1. 디자인 시스템 및 브랜딩

#### 6.1.1. 브랜드 포지셔닝
포지셔닝: 일반적인 '게이밍 플랫폼'이 아닌, 창작자가 자신의 게임을 론칭하는 '웹3 게임 런치패드'로서의 전문성과 혁신성을 강조
브랜드 아이덴티티: Sui 블록체인의 혁신성과 안정성을 동시에 표현하는 세련되고 신뢰할 수 있는 이미지 추구

#### 6.1.2. 코어 컬러 팔레트
주 색상 (Primary Colors):
Leviathan Sky Blue: #38BDF8 - Sui의 시그니처 컬러를 기반으로 한 밝고 혁신적인 하늘색
Leviathan Deep Blue: #1E3A8A - 깊이감과 신뢰성을 표현하는 진한 파란색
Leviathan Ocean: #0EA5E9 - 중간 톤의 바다색으로 그라데이션 및 액센트에 활용

보조 색상 (Secondary Colors):
Leviathan Teal: #06B6D4 - 청록색 계열의 보조 컬러
Leviathan Cyan: #22D3EE - 밝은 청록색으로 하이라이트 용도
Leviathan Indigo: #3B82F6 - 남색 계열의 깊은 색상

그라데이션 조합:
Primary Gradient: Sky Blue → Ocean (주요 버튼, 헤더에 사용하여 맑고 청량한 느낌 강화)
Deep Ocean Gradient: Ocean → Deep Blue (카드 배경, 깊이감 있는 섹션에 사용)
Accent Gradient: Cyan → Indigo (특수 효과, 강조 요소)

#### 6.1.3. 글래스모피즘 디자인 시스템
글래스 효과 (Glass Effects):
투명도: 배경 투명도 40-60% 사용 (rgba(30, 41, 59, 0.4))
블러 효과: backdrop-filter: blur(16px) 적용
테두리: 맑은 물의 경계처럼 얇고 투명한 테두리 1px solid rgba(56, 189, 248, 0.2)
내부 그림자: 미묘한 inset 그림자로 깊이감 표현

글로우 효과 (Glow Effects):
Primary Glow: 하늘색 계열의 은은한 발광 효과
Secondary Glow: 깊은 파란색 계열의 차분한 발광
Hover States: 상호작용 시 글로우 효과 강화

#### 6.1.4. 타이포그래피 시스템
폰트 패밀리:
주 폰트: Inter (웹 폰트) - 깔끔하고 현대적인 Sans-serif
보조 폰트: system-ui, -apple-system 등 시스템 폰트 fallback

폰트 크기 계층:
Heading 1: 48px/3rem (메인 타이틀)
Heading 2: 36px/2.25rem (섹션 헤더)
Heading 3: 24px/1.5rem (서브 헤더)
Body Large: 18px/1.125rem (주요 텍스트)
Body Medium: 16px/1rem (일반 텍스트)
Body Small: 14px/0.875rem (보조 텍스트)
Caption: 12px/0.75rem (라벨, 캡션)

#### 6.1.5. 컴포넌트 디자인 원칙
카드 (Cards):
맑은 바다 위에 떠 있는 듯한 글래스모피즘 배경 적용
둥근 모서리 border-radius: 16px
호버 시 수면 위로 살짝 떠오르는 듯한 미묘한 상승 효과와 함께, 카드 외곽에 Primary Glow가 강화됨
내부 여백 일관성 유지

버튼 (Buttons):
Primary Button: Primary Gradient(Sky Blue → Ocean)를 적용하여 청량감을 극대화. 호버 시 그라데이션이 미세하게 밝아지며 버튼 전체를 감싸는 부드러운 Primary Glow가 발산됨.
Secondary Button: 글래스모피즘 효과가 적용된 투명 배경에 Leviathan Sky Blue 색상의 선명한 테두리 사용. 호버 시 얕은 바다처럼 Leviathan Ocean 색상이 반투명하게 차오름.
Ghost Button: 배경과 테두리 없이 Leviathan Deep Blue 색상의 텍스트로만 구성. 호버 시 텍스트 색상이 Leviathan Sky Blue로 밝아지며 텍스트 하단에 잔물결 같은 밑줄이 생성됨.
모든 버튼에 300ms ease-out 전환 효과를 적용하여 부드럽고 명쾌한 피드백을 제공.

입력 필드 (Input Fields):
글래스 배경과 얇은 테두리
포커스 시 테두리 색상 변화 및 글로우
플레이스홀더 텍스트 일관성
라벨과 에러 메시지 스타일 통일

#### 6.1.6. 애니메이션 및 전환 효과
전환 시간 (Transition Duration):
빠른 전환: 150ms (버튼 호버, 색상 변화)
일반 전환: 300ms (카드 호버, 크기 변화)
느린 전환: 500ms (페이지 전환, 복잡한 애니메이션)

이징 함수 (Easing Functions):
일반적으로 ease-in-out 사용
강조가 필요한 경우 ease-out 사용
미묘한 효과는 ease 사용

특수 애니메이션:
Float Effect: 카드가 미묘하게 위아래로 움직이는 효과
Glow Pulse: 글로우 효과가 맥박처럼 변화하는 애니메이션
Slide In: 요소가 부드럽게 슬라이드되며 나타나는 효과

#### 6.1.7. 레이아웃 및 간격 시스템
그리드 시스템: 12열 그리드 기반 반응형 레이아웃
간격 시스템: 4px 기반 일관된 간격 (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px)
컨테이너 크기:
Small: 640px
Medium: 768px
Large: 1024px
Extra Large: 1280px

#### 6.1.8. 다크 테마 최적화
배경 색상: 심해처럼 깊고 어두운 네이비 계열 (#0F172A)
텍스트 색상:
Primary: 밝고 선명한 흰색 (#F8FAFC)
Secondary: 차분한 슬레이트 블루 (#94A3B8)
Muted: 반투명 흰색 (rgba(248, 250, 252, 0.5))
투명도 조절: 다크 테마에서 글래스 효과의 투명도와 블러 값을 미세 조정하여 최적의 가독성을 확보합니다.

#### 6.1.9. 접근성 고려사항
색상 대비: WCAG 2.1 AA 기준 준수 (최소 4.5:1 대비율)
포커스 표시: 키보드 내비게이션을 위한 명확한 포커스 링
상태 표시: 색상뿐만 아니라 아이콘이나 텍스트로도 상태 전달
텍스트 크기: 최소 16px 이상의 읽기 가능한 크기 유지

#### 6.1.10. 브랜드 일관성 가이드라인
로고 사용: 레비아탄 로고의 색상은 항상 브랜드 컬러 팔레트 내에서 사용
아이콘 스타일: 라인 아이콘 스타일 선호, 두께 1.5px-2px
이미지 처리: 모든 이미지에 미묘한 블루 톤 필터 적용 검토
일관성 체크: 모든 UI 요소가 동일

### 6.2. 기술 아키텍처
- **프론트엔드 파일 구조**: **기능 기반의 병렬적 파일 구조 (Feature-based parallel file structure)**를 채택하여 각 기능이 자체적인 컴포넌트, 로직, 상태를 포함하는 독립적인 모듈로 구성

### 6.3. 확정 기술 스택 (현재 구현 기준)

#### 프론트엔드 (frontend/)
- **Framework**: React 18.3.1 (TypeScript) + Vite 7.1.5
- **UI 라이브러리**: Radix UI Themes 3.2.1 + Radix Colors + Radix Icons
- **상태 관리**: @tanstack/react-query 5.87.1 (서버 상태)
- **스타일링**: Radix UI Themes (Tailwind 대신)
- **보드 에디터**: React DnD 또는 Konva (드래그앤드롭, 향후 추가)
- **게임 렌더링**: React DOM + Canvas API (Phaser는 확장 시 도입)

#### 블록체인 통합
- **Sui SDK**: @mysten/sui 1.38.0 (공식 최신 SDK)
- **Sui dApp Kit**: @mysten/dapp-kit 0.18.0 (지갑 연결, 트랜잭션 관리)
- **지갑 지원**: Slush Wallet (WalletProvider 자동 연결)
- **네트워크**: devnet/testnet/mainnet 지원 (networkConfig.ts)
- **스마트 컨트랙트**: Sui Move (Move for Sui) - hSui, 게임 메타데이터, 판돈/정산